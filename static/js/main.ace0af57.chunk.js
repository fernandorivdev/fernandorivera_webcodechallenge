(this.webpackJsonpfernandorivera_webcodechallenge=this.webpackJsonpfernandorivera_webcodechallenge||[]).push([[0],{105:function(t,e,n){},106:function(t,e,n){},107:function(t,e,n){},108:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),i=(n(62),n(63),n(5)),s=n(19),l=function(t){return t.topBar},u=function(t){return l(t).searchText},p=function(t){return l(t).posts},m=function(t){return l(t).searching},f=n(14),d=(n(68),n(13)),h=n.n(d),g=function(t){var e=t.value,n=t.onChange,o=t.onEnterPressed,c=Object(a.useState)(!1),i=Object(f.a)(c,2),s=i[0],l=i[1];return r.a.createElement("input",{className:h()("search-input",{"search-input-writing":s}),type:"text",onChange:function(t){return n(t.target.value)},value:e,onKeyUp:function(t){"Enter"===t.key&&o(e)},onFocus:function(){return l(!0)},onBlur:function(){return l(!1)}})},v=function(t){return{type:"top-bar.load_posts",payload:t}},b=function(t){return{type:"top-bar.search_command",payload:t}},E=(n(69),Object(i.b)((function(t){return{value:u(t)}}),(function(t){return{onTextChange:function(e){return t({type:"top-bar.search_text_changed",payload:e})},onSearchCommand:function(e){return t(b(e))}}}))((function(t){var e=t.value,n=t.onTextChange,a=t.onSearchCommand;return r.a.createElement("div",{className:"container blue-background"},r.a.createElement("div",{className:"content-container top-bar"},r.a.createElement("span",{className:"top-bar-text"}," Reddit "),r.a.createElement(g,{className:"top-bar-search-input",onChange:function(t){return n(t)},value:e,onEnterPressed:a})))}))),w=n(12),O={searchText:"funny",posts:[],searching:!1,error:null},y=n(8),_=n.n(y),x=n(9),j=n(33),N=n.n(j),T=_.a.mark(C),k=_.a.mark(S),P=_.a.mark(D);function C(t,e){var n,a,r;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.payload,o.next=3,Object(x.c)({type:"top-bar.searching_posts_start"});case 3:return o.prev=3,o.next=6,Object(x.a)(t.getPosts,n);case 6:return a=o.sent,o.next=9,Object(x.c)({type:"top-bar.searching_posts_end"});case 9:if(!a.data){o.next=13;break}return r=N.a.map(a.data.data.children,(function(t){return N.a.pick(t.data,["title","author","num_comments","thumbnail","ups","downs","permalink"])})),o.next=13,Object(x.c)(v(r));case 13:o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(3),o.next=19,Object(x.c)({type:"top-bar.searching_posts_error",payload:o.t0});case 19:case"end":return o.stop()}}),T,null,[[3,15]])}function S(t,e){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.b)(600);case 2:return n.next=4,C(t,e);case 4:case"end":return n.stop()}}),k)}function D(t){var e;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.api,n.next=3,Object(x.e)("top-bar.search_text_changed",S,e);case 3:return n.next=5,Object(x.e)("top-bar.search_command",C,e);case 5:case"end":return n.stop()}}),P)}var A=E,M=function(t){return t["post-action"]},B=function(t){return M(t).openPost},I=function(t){return M(t).animatingPost},z=n(111),L=n(36),R=(n(72),["","default","self",null,void 0]),H=function(t){var e=t.post.thumbnail,n=R.includes(e)?"/warningSign.png":e;return r.a.createElement("img",{alt:"Profile",src:n,className:"profile-picture"})},V=(n(73),function(t){var e=t.post;return r.a.createElement("span",{className:"author-name"},e.author)}),X=function(t){var e=t.post,n=t.showText,a=void 0===n||n;return r.a.createElement("div",{className:"icon-info"},r.a.createElement("svg",{class:"bi bi-heart",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"#0fb1f8",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 01.176-.17C12.72-3.042 23.333 4.867 8 15z","clip-rule":"evenodd"})),r.a.createElement("span",null,e.ups," ",a&&" ups"))},U=function(t){var e=t.post,n=t.showText,a=void 0===n||n;return r.a.createElement("div",{className:"icon-info"},r.a.createElement("svg",{class:"bi bi-chat-square",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"#0fb1f8",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M14 1H2a1 1 0 00-1 1v8a1 1 0 001 1h2.5a2 2 0 011.6.8L8 14.333 9.9 11.8a2 2 0 011.6-.8H14a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v8a2 2 0 002 2h2.5a1 1 0 01.8.4l1.9 2.533a1 1 0 001.6 0l1.9-2.533a1 1 0 01.8-.4H14a2 2 0 002-2V2a2 2 0 00-2-2H2z","clip-rule":"evenodd"})),r.a.createElement("span",null,e.num_comments,a&&" Comments"))},W=(n(74),function(t){var e=t.post;return r.a.createElement("span",{className:"post-tittle"},e.title)}),q=(n(75),function(t){var e=t.post,n=t.classNames,o=Object(z.a)({item:{type:"post",post:e},collect:function(t){return{isDragging:t.isDragging()}}}),c=Object(f.a)(o,3),i=c[0].isDragging,s=c[1],l=c[2];Object(a.useEffect)((function(){l(Object(L.a)(),{captureDraggingState:!0})}));var u=i?0:1;return r.a.createElement("div",{ref:s,className:h()("post-card-container",n),style:{opacity:u}},r.a.createElement(H,{post:e}),r.a.createElement("div",{className:"post-card-text-container"},r.a.createElement(V,{post:e}),r.a.createElement(W,{post:e})),r.a.createElement("div",{className:"post-description-bottom-bar"},r.a.createElement(U,{post:e,showText:!1}),r.a.createElement(X,{post:e,showText:!1})))}),F=n(112),J=(n(76),Object(i.b)(null,(function(t){return{applyAction:function(e,n){return t({type:"post-action.post_action",payload:{actionName:(a={actionName:e,post:n}).actionName,post:a.post}});var a}}}))((function(t){var e=t.imgPath,n=t.actionName,a=t.actionText,o=t.applyAction,c=t.post,i=Object(F.a)({accept:"post",collect:function(t){return{hover:t.isOver({shallow:!0})}},drop:function(t){o(n,c)}}),s=Object(f.a)(i,2),l=s[0].hover,u=s[1];return r.a.createElement("div",{ref:u,className:h()("post-card-container",n,"action-card-container",{"action-card-hover":l})},r.a.createElement("img",{alt:"",src:e}),r.a.createElement("span",null,a))}))),K=n(49),$=n(50),G=n(54),Q=n(56),Y=n(113),Z=(n(77),function(t){Object(Q.a)(n,t);var e=Object(G.a)(n);function n(){var t;Object(K.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={animating:!1,wasDragging:!1,postAnimating:null,startTransitionTime:null,initialOffset:null,currentTransitionTime:null},t.transitionTime=500,t.transitionPhotos=70,t.lastOffset={x:0,y:0},t}return Object($.a)(n,[{key:"getItemStyles",value:function(t,e){var n=this,a=this.state,r=a.animating,o=a.startTransitionTime,c=a.currentTransitionTime,i=this.lastOffset,s=this.transitionPhotos,l=this.transitionTime,u=t.x,p=t.y;if(e&&(u=e.x,p=e.y),r){var m=(c-o)/l;m>=1&&(this.setState({animating:!1}),this.props.toggleAnimation(!1));var f=l/s;u=i.x-m*(i.x-t.x),p=i.y-m*(i.y-t.y),setTimeout((function(){n.setState({currentTransitionTime:Date.now()})}),f)}var d="translate(".concat(u,"px, ").concat(p,"px)");return{opacity:.5,transform:d,WebkitTransform:d}}},{key:"render",value:function(){var t=this.props,e=t.item,n=t.initialOffset,a=t.currentOffset,o=t.isDragging,c=t.toggleAnimation,i=this.state,s=i.wasDragging,l=i.animating,u=i.postAnimating,p=i.initialOffset;if(o&&!s&&this.setState({wasDragging:!0,postAnimating:e.post,initialOffset:n}),o&&a&&(this.lastOffset=a),s&&!o){var m=Date.now();this.setState({animating:!0,wasDragging:!1,startTransitionTime:m,currentTransitionTime:Date.now()}),c(!0)}if(!o&&!l)return null;var f=e?e.post:u,d=n||p;return r.a.createElement("div",{className:"drag-layer"},r.a.createElement("div",{style:this.getItemStyles(d,a)},r.a.createElement(q,{post:f})))}}]),n}(r.a.Component)),tt=Object(Y.a)((function(t){return{item:t.getItem(),initialOffset:t.getInitialSourceClientOffset(),currentOffset:t.getSourceClientOffset(),isDragging:t.isDragging()}}))(Object(i.b)(null,(function(t){return{toggleAnimation:function(e){return t(function(t){return{type:"post-action.post_animation_start",payload:t}}(e))}}}))(Z)),et=n(51),nt=n.n(et),at=(n(87),Object(i.b)((function(t){return{openPost:B(t),isAnimatingPost:I(t)}}),(function(t){return{onClosePostActions:function(){return t({type:"post-action.close_post_actions",payload:e});var e}}}))((function(t){var e=t.openPost,n=t.isAnimatingPost,a=t.onClosePostActions;return null===e?null:r.a.createElement(nt.a,{isOpen:null!==e,className:"modal-blank",portalClassName:"react-modal",ariaHideApp:!1,onRequestClose:function(){a()},style:{overlay:{backgroundColor:"rgba(100, 100, 100, 0.75)"}}},r.a.createElement(tt,null),r.a.createElement("div",{className:"container post-action-container"},r.a.createElement("div",{className:"container"},r.a.createElement(q,{post:e,classNames:n&&"hide"}),r.a.createElement("span",{className:"post-action-instructions"}," Drag the card on the left to the desired action. ")),r.a.createElement("div",{className:"post-action-cards"},r.a.createElement(J,{actionName:"link",actionText:"Open on Reddit",imgPath:"/reddit.png",post:e}),r.a.createElement(J,{actionName:"email",actionText:"Email to a friend",imgPath:"/envelope.png",post:e}))))}))),rt={openPost:null,animatingPost:!1},ot=_.a.mark(it),ct=_.a.mark(st);function it(t){var e,n,a,r;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=t.payload,n=e.actionName,a=e.post,r="http://www.reddit.com".concat(a.permalink),o.t0=n,o.next="link"===o.t0?5:"email"===o.t0?8:10;break;case 5:return o.next=7,Object(x.a)(window.open,r,"_blank");case 7:return o.abrupt("break",10);case 8:return window.location.href='mailto:fernandorivera@example.com?subject=Check out this Reddit post&body=<a href="'.concat(r,'"> ').concat(r,"</a>"),o.abrupt("break",10);case 10:case"end":return o.stop()}}),ot)}function st(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.api,e.next=3,Object(x.d)("post-action.post_action",it);case 3:case"end":return e.stop()}}),ct)}var lt,ut=at,pt=(lt={},Object(s.a)(lt,"topBar",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"top-bar.searching_posts_start":return Object(w.a)({},t,{searching:!0});case"top-bar.searching_posts_end":return Object(w.a)({},t,{searching:!1});case"top-bar.load_posts":return Object(w.a)({},t,{posts:e.payload});case"top-bar.search_text_changed":return Object(w.a)({},t,{searchText:e.payload});case"top-bar.searching_posts_error":return Object(w.a)({},t,{searching:!1,error:e.payload});default:return t}})),Object(s.a)(lt,"post-action",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"post-action.open_post_actions":return Object(w.a)({},t,{openPost:e.payload});case"post-action.close_post_actions":return Object(w.a)({},t,{openPost:null});case"post-action.post_animation_start":return Object(w.a)({},t,{animatingPost:e.payload});default:return t}})),lt),mt=n(10),ft=[D,st],dt=n(55),ht=n(110),gt=n(31),vt=n(52),bt=n.n(vt),Et={getPosts:function(t){return bt.a.get("http://www.reddit.com/r/".concat(t,"/.json"))}},wt=function(t){var e=t.post;return r.a.createElement("div",{className:"icon-info"},r.a.createElement("svg",{class:"bi bi-arrow-down",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"#0fb1f8",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M4.646 9.646a.5.5 0 01.708 0L8 12.293l2.646-2.647a.5.5 0 01.708.708l-3 3a.5.5 0 01-.708 0l-3-3a.5.5 0 010-.708z","clip-rule":"evenodd"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 2.5a.5.5 0 01.5.5v9a.5.5 0 01-1 0V3a.5.5 0 01.5-.5z","clip-rule":"evenodd"})),r.a.createElement("span",null,e.downs," downs"))},Ot=(n(105),Object(i.b)(null,(function(t){return{onOpenPostActions:function(e){return t(function(t){return{type:"post-action.open_post_actions",payload:t}}(e))}}}))((function(t){var e=t.post,n=t.onOpenPostActions,o=Object(a.useState)(!1),c=Object(f.a)(o,2),i=c[0],s=c[1];return r.a.createElement("div",{className:h()("post-container",{"post-mouse-in":i}),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onClick:function(){return n(e)}},r.a.createElement(H,{post:e}),r.a.createElement("div",{className:"post-text-container"},r.a.createElement(V,{post:e}),r.a.createElement(W,{post:e}),r.a.createElement("div",{className:"post-bottom-bar"},r.a.createElement(U,{post:e}),r.a.createElement(X,{post:e}),r.a.createElement(wt,{post:e}))))}))),yt=n(53),_t=n.n(yt),xt=(n(106),function(){return r.a.createElement("div",{className:"loading-component"},r.a.createElement(_t.a,{type:"spokes",color:"#21AFEC"}))}),jt=(n(107),Object(i.b)((function(t){return{posts:p(t),isSearching:m(t)}}))((function(t){var e=t.posts,n=t.isSearching;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",null,!n&&e&&e.map((function(t){return r.a.createElement(Ot,{post:t})})),n&&r.a.createElement(xt,null))))}))),Nt=Object(mt.c)(pt);var Tt=function(){var t=Object(dt.a)(),e=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):mt.d)(Object(mt.a)(t)),n=Object(mt.e)(Nt,e),a={api:Et};return ft.forEach((function(e){return t.run(e,a)})),n.dispatch(b("funny")),r.a.createElement(i.a,{store:n},r.a.createElement(ht.a,{backend:gt.a},r.a.createElement(A,null),r.a.createElement(jt,null),r.a.createElement(ut,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},57:function(t,e,n){t.exports=n(108)},62:function(t,e,n){},63:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},87:function(t,e,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.ace0af57.chunk.js.map